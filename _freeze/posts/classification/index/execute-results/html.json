{
  "hash": "6ab3f11f11ab880c77e769ac36399f86",
  "result": {
    "markdown": "---\ntitle: \"Classification\"\nauthor: \"Youwei Chen\"\ndate: \"2023-11-28\"\ncategories: [NLP, code, sentiment analysis, classification]\nimage: \"image.jpg\"\n---\n\n### 1. Introduction:\n\nThis blog will utilize both rule-based VADER sentiment analysis tool and machine learning pre-trained RoBERTa model to perform analysis of sentiment in Amazon reviews. It will apply sentiment analysis models to classify reviews into categories such as \"positive\", \"neutral\", and \"negative\". The visualizations at end will also show the relationship between different sentiment classifiers.\n\n### 2. Import the libraries:\n\n::: {.cell execution_count=1}\n``` {.python .cell-code}\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport nltk\nfrom nltk.sentiment import SentimentIntensityAnalyzer\nfrom tqdm.notebook import tqdm \nfrom scipy.special import softmax\nfrom transformers import AutoTokenizer, AutoModelForSequenceClassification\n```\n:::\n\n\n### 3. Load the amazon_reviews csv file:\n\n::: {.cell execution_count=2}\n``` {.python .cell-code}\namazon_df = pd.read_csv(\"amazon_reviews.csv\")\n```\n:::\n\n\n### 4. Bar plot to show the number of reviews in different ratings:\n\n::: {.cell execution_count=3}\n``` {.python .cell-code}\nvis = amazon_df['rating'].value_counts().sort_index().plot(kind='bar', title='number of reviews vs. ratings', figsize=(10,5))\nvis.set_xlabel(\"Review ratings\")\nvis.set_ylabel(\"number of reviews\")\nvis.set_xticklabels(vis.get_xticklabels(), rotation=1)\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](index_files/figure-html/cell-4-output-1.png){width=825 height=450}\n:::\n:::\n\n\n### 5. Apply SentimentIntensityAnalyzer:\n\nThe code below uses the VADER sentiment analysis tool from NLTK to give scores for each Amazon reviews. Based on the scores, the new column **sentiment** will classify 'negative', 'positive', 'neutral' based on the scores. The dataframe **vader_nltk** stores polarity scores and sentiment labels.\n\n::: {.cell execution_count=4}\n``` {.python .cell-code}\ndef get_sentiment(score):\n    if score < -0.05:\n        return 'negative'\n    elif score > 0.05:\n        return 'positive'\n    else:\n        return 'neutral'\n\nsia = SentimentIntensityAnalyzer()\nres = {}\nfor i, row in tqdm(amazon_df.iterrows(), total=len(amazon_df)):\n    text = str(row['reviewText'])\n    myid = row['id']\n    polarity_scores = sia.polarity_scores(text)\n    res[myid] = {**polarity_scores, 'sentiment': get_sentiment(polarity_scores['compound'])}\n\nvader_nltk = pd.DataFrame.from_dict(res, orient='index').reset_index()\nvader_nltk.columns = ['id'] + list(vader_nltk.columns[1:])\nvader_nltk = pd.merge(vader_nltk, amazon_df, on='id', how='left')\nvader_nltk.head()\n```\n\n::: {.cell-output .cell-output-display}\n```{=html}\n<script type=\"application/vnd.jupyter.widget-view+json\">\n{\"model_id\":\"3e1fff0886a149d8b992e9d167395552\",\"version_major\":2,\"version_minor\":0,\"quarto_mimetype\":\"application/vnd.jupyter.widget-view+json\"}\n</script>\n```\n:::\n\n::: {.cell-output .cell-output-display execution_count=4}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>id</th>\n      <th>neg</th>\n      <th>neu</th>\n      <th>pos</th>\n      <th>compound</th>\n      <th>sentiment</th>\n      <th>reviewerName</th>\n      <th>rating</th>\n      <th>reviewText</th>\n      <th>reviewTime</th>\n      <th>day_diff</th>\n      <th>helpful_yes</th>\n      <th>helpful_no</th>\n      <th>total_vote</th>\n      <th>score_pos_neg_diff</th>\n      <th>score_average_rating</th>\n      <th>wilson_lower_bound</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>0</td>\n      <td>0.688</td>\n      <td>0.312</td>\n      <td>0.000</td>\n      <td>-0.2960</td>\n      <td>negative</td>\n      <td>NaN</td>\n      <td>4.0</td>\n      <td>No issues.</td>\n      <td>2014-07-23</td>\n      <td>138</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>2</td>\n      <td>0.077</td>\n      <td>0.923</td>\n      <td>0.000</td>\n      <td>-0.3089</td>\n      <td>negative</td>\n      <td>1K3</td>\n      <td>4.0</td>\n      <td>it works as expected. I should have sprung for...</td>\n      <td>2012-12-23</td>\n      <td>715</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>11</td>\n      <td>0.000</td>\n      <td>1.000</td>\n      <td>0.000</td>\n      <td>0.0000</td>\n      <td>neutral</td>\n      <td>98020</td>\n      <td>3.0</td>\n      <td>It works, but file writes are a bit slower tha...</td>\n      <td>2013-11-20</td>\n      <td>383</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>32</td>\n      <td>0.088</td>\n      <td>0.774</td>\n      <td>0.138</td>\n      <td>0.5255</td>\n      <td>positive</td>\n      <td>Abdulrahman J. Alrashed \"dr34m3r\"</td>\n      <td>1.0</td>\n      <td>I bought 2 of those SanDisk 32 GB microSD , us...</td>\n      <td>2013-03-08</td>\n      <td>640</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>33</td>\n      <td>0.000</td>\n      <td>0.632</td>\n      <td>0.368</td>\n      <td>0.9153</td>\n      <td>positive</td>\n      <td>Abel Feliciano \"Ace Master\"</td>\n      <td>4.0</td>\n      <td>The memory card is an excellent condition and ...</td>\n      <td>2012-11-09</td>\n      <td>759</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n### 6. the boxplot to show the distribution of 'neg', 'neu', 'pos' for each rating.\n\n::: {.cell execution_count=5}\n``` {.python .cell-code}\nfig, axs = plt.subplots(1, 3, figsize=(15,5))\nsns.boxplot(data=vader_nltk, x='rating', y='neg', ax=axs[0])\nsns.boxplot(data=vader_nltk, x='rating', y='neu', ax=axs[1])\nsns.boxplot(data=vader_nltk, x='rating', y='pos', ax=axs[2])\naxs[0].set_title('Negative sentiment')\naxs[1].set_title('Neutral sentiment')\naxs[2].set_title('Positive sentiment')\nplt.tight_layout()\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](index_files/figure-html/cell-6-output-1.png){width=1430 height=470}\n:::\n:::\n\n\n### 7. Hugging Face Transformers to load a pre-trained model:\n\nIt sets up a sentiment analysis model based on RoBERTa architecture for analyzing the Amazon reviews.\n\n::: {.cell execution_count=6}\n``` {.python .cell-code}\nMODEL = \"cardiffnlp/twitter-roberta-base-sentiment\"\ntokenizer = AutoTokenizer.from_pretrained(MODEL)\nmodel = AutoModelForSequenceClassification.from_pretrained(MODEL)\n```\n:::\n\n\n### 8. VADER Sentiment analysis vs. RoBERTa Model Sentiment Analysis:\n\n##### (1). VADER score about the review at index 30:\n\n::: {.cell execution_count=7}\n``` {.python .cell-code}\nexample_review = amazon_df['reviewText'][30]\nexample_review\nprint(\"Vader sentiment analysis scores for the review at index 30 is \", sia.polarity_scores(example_review))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nVader sentiment analysis scores for the review at index 30 is  {'neg': 0.0, 'neu': 0.886, 'pos': 0.114, 'compound': 0.6249}\n```\n:::\n:::\n\n\n##### (2).RoBERTa score about the review at index 30:\n\n::: {.cell execution_count=8}\n``` {.python .cell-code}\nencoded_review = tokenizer(example_review, return_tensors='pt')\noutput = model(**encoded_review)\nscores = output[0][0].detach().numpy()\nscores = softmax(scores)\nscores_dict = {\n  'roberta_neg': scores[0],\n  'roberta_neu': scores[1],\n  'roberta_pos': scores[2]\n}\n\nprint(\"Roberta scores for the review at index 30 is \", scores_dict)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRoberta scores for the review at index 30 is  {'roberta_neg': 0.25840575, 'roberta_neu': 0.34866926, 'roberta_pos': 0.39292496}\n```\n:::\n:::\n\n\n### 9. RoBERTa score and VADER score Integration:\n\nThe **res** dictionary combines and contains both the VADER sentiment analysis result and the pre-trained model RoBERTa model's result.\n\n::: {.cell execution_count=9}\n``` {.python .cell-code}\ndef roberta_scores(example_review):\n  encoded_review = tokenizer(example_review, return_tensors='pt')\n  output = model(**encoded_review)\n  scores = output[0][0].detach().numpy()\n  scores = softmax(scores)\n  scores_dict = {\n    'roberta_neg': scores[0],\n    'roberta_neu': scores[1],\n    'roberta_pos': scores[2]\n  }\n  return scores_dict\nres = {}\nfor i, row in tqdm(amazon_df.iterrows(), total=len(amazon_df)):\n    try:\n        review = row['reviewText']\n        review_id = row['id']\n        if isinstance(review, str):\n            vader_result = sia.polarity_scores(review)\n            vader_result2 = {f\"vader_{key}\": value for key, value in vader_result.items()}\n            roberta_result = roberta_scores(review)\n            res[review_id] = {**vader_result2, **roberta_result}\n        else:\n            print(f'Skipped id: {review_id} due to non-string review')\n    except RuntimeError:\n        continue\ndict_list = list(res.items())[:5]\nfor item in dict_list:\n    print(item)\n```\n\n::: {.cell-output .cell-output-display}\n```{=html}\n<script type=\"application/vnd.jupyter.widget-view+json\">\n{\"model_id\":\"8240e0f3fc87466983fccaae33e4c20b\",\"version_major\":2,\"version_minor\":0,\"quarto_mimetype\":\"application/vnd.jupyter.widget-view+json\"}\n</script>\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n(0, {'vader_neg': 0.688, 'vader_neu': 0.312, 'vader_pos': 0.0, 'vader_compound': -0.296, 'roberta_neg': 0.07495943, 'roberta_neu': 0.5892151, 'roberta_pos': 0.33582547})\n(2, {'vader_neg': 0.077, 'vader_neu': 0.923, 'vader_pos': 0.0, 'vader_compound': -0.3089, 'roberta_neg': 0.42375654, 'roberta_neu': 0.4483106, 'roberta_pos': 0.12793283})\n(11, {'vader_neg': 0.0, 'vader_neu': 1.0, 'vader_pos': 0.0, 'vader_compound': 0.0, 'roberta_neg': 0.2745669, 'roberta_neu': 0.4989962, 'roberta_pos': 0.22643691})\n(32, {'vader_neg': 0.088, 'vader_neu': 0.774, 'vader_pos': 0.138, 'vader_compound': 0.5255, 'roberta_neg': 0.54347664, 'roberta_neu': 0.3384522, 'roberta_pos': 0.118071124})\n(33, {'vader_neg': 0.0, 'vader_neu': 0.632, 'vader_pos': 0.368, 'vader_compound': 0.9153, 'roberta_neg': 0.0029975341, 'roberta_neu': 0.026594352, 'roberta_pos': 0.97040814})\n```\n:::\n:::\n\n\n### 10. Merge into dataframe:\n\n::: {.cell execution_count=10}\n``` {.python .cell-code}\nmodel_df = pd.DataFrame(res).T\nmodel_df = model_df.reset_index().rename(columns={'index':'id'})\nmodel_df = model_df.merge(amazon_df, how='left')\nmodel_df.head()\n```\n\n::: {.cell-output .cell-output-display execution_count=10}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>id</th>\n      <th>vader_neg</th>\n      <th>vader_neu</th>\n      <th>vader_pos</th>\n      <th>vader_compound</th>\n      <th>roberta_neg</th>\n      <th>roberta_neu</th>\n      <th>roberta_pos</th>\n      <th>reviewerName</th>\n      <th>rating</th>\n      <th>reviewText</th>\n      <th>reviewTime</th>\n      <th>day_diff</th>\n      <th>helpful_yes</th>\n      <th>helpful_no</th>\n      <th>total_vote</th>\n      <th>score_pos_neg_diff</th>\n      <th>score_average_rating</th>\n      <th>wilson_lower_bound</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>0</td>\n      <td>0.688</td>\n      <td>0.312</td>\n      <td>0.000</td>\n      <td>-0.2960</td>\n      <td>0.074959</td>\n      <td>0.589215</td>\n      <td>0.335825</td>\n      <td>NaN</td>\n      <td>4.0</td>\n      <td>No issues.</td>\n      <td>2014-07-23</td>\n      <td>138</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>2</td>\n      <td>0.077</td>\n      <td>0.923</td>\n      <td>0.000</td>\n      <td>-0.3089</td>\n      <td>0.423757</td>\n      <td>0.448311</td>\n      <td>0.127933</td>\n      <td>1K3</td>\n      <td>4.0</td>\n      <td>it works as expected. I should have sprung for...</td>\n      <td>2012-12-23</td>\n      <td>715</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>11</td>\n      <td>0.000</td>\n      <td>1.000</td>\n      <td>0.000</td>\n      <td>0.0000</td>\n      <td>0.274567</td>\n      <td>0.498996</td>\n      <td>0.226437</td>\n      <td>98020</td>\n      <td>3.0</td>\n      <td>It works, but file writes are a bit slower tha...</td>\n      <td>2013-11-20</td>\n      <td>383</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>32</td>\n      <td>0.088</td>\n      <td>0.774</td>\n      <td>0.138</td>\n      <td>0.5255</td>\n      <td>0.543477</td>\n      <td>0.338452</td>\n      <td>0.118071</td>\n      <td>Abdulrahman J. Alrashed \"dr34m3r\"</td>\n      <td>1.0</td>\n      <td>I bought 2 of those SanDisk 32 GB microSD , us...</td>\n      <td>2013-03-08</td>\n      <td>640</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>33</td>\n      <td>0.000</td>\n      <td>0.632</td>\n      <td>0.368</td>\n      <td>0.9153</td>\n      <td>0.002998</td>\n      <td>0.026594</td>\n      <td>0.970408</td>\n      <td>Abel Feliciano \"Ace Master\"</td>\n      <td>4.0</td>\n      <td>The memory card is an excellent condition and ...</td>\n      <td>2012-11-09</td>\n      <td>759</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n### 11. Heatmap to show the relationship between VADER Sentiment analysis tool and RoBERTa training model:\n\nThe heatmap is applied here to explore the correlation between the VADER model classifications and the RoBERTa model classifications.\n\n::: {.cell execution_count=11}\n``` {.python .cell-code}\nplt.figure(figsize=(4, 3))\ncorrelation = model_df[['vader_neg', 'vader_neu', 'vader_pos', 'roberta_neg', 'roberta_neu', 'roberta_pos']].corr()\nsns.heatmap(correlation, annot=True, cmap='coolwarm')\nplt.tight_layout()\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](index_files/figure-html/cell-12-output-1.png){width=369 height=277}\n:::\n:::\n\n\nFrom the heatmap shown above, the correlation coefficient of two models' relationship:\n\n1.  **vader_neg - roberta_neg:** 0.35\n2.  **vader_neu - roberta_neu:** 0.36\n3.  **vader_pos - roberta_pos:** 0.5\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n<script src=\"https://unpkg.com/@jupyter-widgets/html-manager@*/dist/embed-amd.js\" crossorigin=\"anonymous\"></script>\n"
      ],
      "include-after-body": [
        "<script type=application/vnd.jupyter.widget-state+json>\n{\"state\":{\"0074cbf3ccee46139fa5819236e50bf0\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"2.0.0\",\"model_name\":\"HTMLModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"2.0.0\",\"_model_name\":\"HTMLModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/controls\",\"_view_module_version\":\"2.0.0\",\"_view_name\":\"HTMLView\",\"description\":\"\",\"description_allow_html\":false,\"layout\":\"IPY_MODEL_1d6770475e0545f6889a82b2691d340b\",\"placeholder\":\"​\",\"style\":\"IPY_MODEL_60ded65ae33d44fea5ecfd1cbc0111ad\",\"tabbable\":null,\"tooltip\":null,\"value\":\" 2284/2284 [09:55&lt;00:00,  3.65it/s]\"}},\"06578be5364945c7b4f534cc60daea2d\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"2.0.0\",\"model_name\":\"ProgressStyleModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"2.0.0\",\"_model_name\":\"ProgressStyleModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"2.0.0\",\"_view_name\":\"StyleView\",\"bar_color\":null,\"description_width\":\"\"}},\"1d6770475e0545f6889a82b2691d340b\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"2.0.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"2.0.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"2.0.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border_bottom\":null,\"border_left\":null,\"border_right\":null,\"border_top\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"1e74839477d648b6aae021fcb3bd0160\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"2.0.0\",\"model_name\":\"HTMLStyleModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"2.0.0\",\"_model_name\":\"HTMLStyleModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"2.0.0\",\"_view_name\":\"StyleView\",\"background\":null,\"description_width\":\"\",\"font_size\":null,\"text_color\":null}},\"3e1fff0886a149d8b992e9d167395552\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"2.0.0\",\"model_name\":\"HBoxModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"2.0.0\",\"_model_name\":\"HBoxModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/controls\",\"_view_module_version\":\"2.0.0\",\"_view_name\":\"HBoxView\",\"box_style\":\"\",\"children\":[\"IPY_MODEL_90b84ab6303a48f5ae902ab6e662393d\",\"IPY_MODEL_ae53a14fc18f45b0ac79f704fdb3c221\",\"IPY_MODEL_a049b1ee293740dda372e30ef474b1c4\"],\"layout\":\"IPY_MODEL_ad0ae4bf27d2433a9d0aaa3fed89222b\",\"tabbable\":null,\"tooltip\":null}},\"3ee61f06d640454ea37bb9fb054b0332\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"2.0.0\",\"model_name\":\"HTMLStyleModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"2.0.0\",\"_model_name\":\"HTMLStyleModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"2.0.0\",\"_view_name\":\"StyleView\",\"background\":null,\"description_width\":\"\",\"font_size\":null,\"text_color\":null}},\"5da08305bf294715ae2537096d390aa1\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"2.0.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"2.0.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"2.0.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border_bottom\":null,\"border_left\":null,\"border_right\":null,\"border_top\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"60ded65ae33d44fea5ecfd1cbc0111ad\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"2.0.0\",\"model_name\":\"HTMLStyleModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"2.0.0\",\"_model_name\":\"HTMLStyleModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"2.0.0\",\"_view_name\":\"StyleView\",\"background\":null,\"description_width\":\"\",\"font_size\":null,\"text_color\":null}},\"69bd538fb7334017994684008e21d7ef\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"2.0.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"2.0.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"2.0.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border_bottom\":null,\"border_left\":null,\"border_right\":null,\"border_top\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"6ad62326c6be455ba26ec75ce9da40b9\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"2.0.0\",\"model_name\":\"FloatProgressModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"2.0.0\",\"_model_name\":\"FloatProgressModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/controls\",\"_view_module_version\":\"2.0.0\",\"_view_name\":\"ProgressView\",\"bar_style\":\"success\",\"description\":\"\",\"description_allow_html\":false,\"layout\":\"IPY_MODEL_9a9647777f7a488781e169a49276db0c\",\"max\":2284,\"min\":0,\"orientation\":\"horizontal\",\"style\":\"IPY_MODEL_06578be5364945c7b4f534cc60daea2d\",\"tabbable\":null,\"tooltip\":null,\"value\":2284}},\"6c1cca84a7af4d8085a77ead06f5997c\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"2.0.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"2.0.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"2.0.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border_bottom\":null,\"border_left\":null,\"border_right\":null,\"border_top\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"7d19720b37e0475591d67aef42e20a88\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"2.0.0\",\"model_name\":\"HTMLStyleModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"2.0.0\",\"_model_name\":\"HTMLStyleModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"2.0.0\",\"_view_name\":\"StyleView\",\"background\":null,\"description_width\":\"\",\"font_size\":null,\"text_color\":null}},\"8240e0f3fc87466983fccaae33e4c20b\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"2.0.0\",\"model_name\":\"HBoxModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"2.0.0\",\"_model_name\":\"HBoxModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/controls\",\"_view_module_version\":\"2.0.0\",\"_view_name\":\"HBoxView\",\"box_style\":\"\",\"children\":[\"IPY_MODEL_b2277bc6c57346999c556fc258d58136\",\"IPY_MODEL_6ad62326c6be455ba26ec75ce9da40b9\",\"IPY_MODEL_0074cbf3ccee46139fa5819236e50bf0\"],\"layout\":\"IPY_MODEL_5da08305bf294715ae2537096d390aa1\",\"tabbable\":null,\"tooltip\":null}},\"843b4ffebf994102a4e13b1a6a47bb5c\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"2.0.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"2.0.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"2.0.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border_bottom\":null,\"border_left\":null,\"border_right\":null,\"border_top\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"90b84ab6303a48f5ae902ab6e662393d\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"2.0.0\",\"model_name\":\"HTMLModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"2.0.0\",\"_model_name\":\"HTMLModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/controls\",\"_view_module_version\":\"2.0.0\",\"_view_name\":\"HTMLView\",\"description\":\"\",\"description_allow_html\":false,\"layout\":\"IPY_MODEL_6c1cca84a7af4d8085a77ead06f5997c\",\"placeholder\":\"​\",\"style\":\"IPY_MODEL_3ee61f06d640454ea37bb9fb054b0332\",\"tabbable\":null,\"tooltip\":null,\"value\":\"100%\"}},\"9a9647777f7a488781e169a49276db0c\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"2.0.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"2.0.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"2.0.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border_bottom\":null,\"border_left\":null,\"border_right\":null,\"border_top\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"a049b1ee293740dda372e30ef474b1c4\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"2.0.0\",\"model_name\":\"HTMLModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"2.0.0\",\"_model_name\":\"HTMLModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/controls\",\"_view_module_version\":\"2.0.0\",\"_view_name\":\"HTMLView\",\"description\":\"\",\"description_allow_html\":false,\"layout\":\"IPY_MODEL_843b4ffebf994102a4e13b1a6a47bb5c\",\"placeholder\":\"​\",\"style\":\"IPY_MODEL_1e74839477d648b6aae021fcb3bd0160\",\"tabbable\":null,\"tooltip\":null,\"value\":\" 2284/2284 [00:01&lt;00:00, 1543.78it/s]\"}},\"ad0ae4bf27d2433a9d0aaa3fed89222b\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"2.0.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"2.0.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"2.0.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border_bottom\":null,\"border_left\":null,\"border_right\":null,\"border_top\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"ae53a14fc18f45b0ac79f704fdb3c221\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"2.0.0\",\"model_name\":\"FloatProgressModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"2.0.0\",\"_model_name\":\"FloatProgressModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/controls\",\"_view_module_version\":\"2.0.0\",\"_view_name\":\"ProgressView\",\"bar_style\":\"success\",\"description\":\"\",\"description_allow_html\":false,\"layout\":\"IPY_MODEL_c2c9430ff99d45fc84c3d89fe413ceec\",\"max\":2284,\"min\":0,\"orientation\":\"horizontal\",\"style\":\"IPY_MODEL_e9f29ebcae384b3ba631cd69a39ef0cd\",\"tabbable\":null,\"tooltip\":null,\"value\":2284}},\"b2277bc6c57346999c556fc258d58136\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"2.0.0\",\"model_name\":\"HTMLModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"2.0.0\",\"_model_name\":\"HTMLModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/controls\",\"_view_module_version\":\"2.0.0\",\"_view_name\":\"HTMLView\",\"description\":\"\",\"description_allow_html\":false,\"layout\":\"IPY_MODEL_69bd538fb7334017994684008e21d7ef\",\"placeholder\":\"​\",\"style\":\"IPY_MODEL_7d19720b37e0475591d67aef42e20a88\",\"tabbable\":null,\"tooltip\":null,\"value\":\"100%\"}},\"c2c9430ff99d45fc84c3d89fe413ceec\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"2.0.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"2.0.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"2.0.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border_bottom\":null,\"border_left\":null,\"border_right\":null,\"border_top\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"e9f29ebcae384b3ba631cd69a39ef0cd\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"2.0.0\",\"model_name\":\"ProgressStyleModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"2.0.0\",\"_model_name\":\"ProgressStyleModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"2.0.0\",\"_view_name\":\"StyleView\",\"bar_color\":null,\"description_width\":\"\"}}},\"version_major\":2,\"version_minor\":0}\n</script>\n"
      ]
    }
  }
}